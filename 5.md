# 表达式
## 代码块是一种表达式
* 代码块中可以包含任何语言成分：变量、函数、类型、模块等
* 声明函数和类型时，末尾无分号，适用于整个代码块
* let声明一个变量时，可以先不赋值等后面赋，但在赋值之前不能读取（延迟初始化）
* 在分支条件表达式中，两个case的类型必须相同；因此对于单分支而言，值只能为零元组
* match表达式：必须形成对value的全覆盖；表达式类型必须相同；如果expr是代码块，可以省略逗号
    ```Rust
    let ans = match exp {
        Some(v) => v,
        None => String::from("?")
    };
    ```
* 循环语句可以使用label配合break指定跳出位置。while、while let和for表达式的值都只能为()。而loop则可以有值，返回值写在break的后面，不同出口可以有不同类型的返回值，同一出口返回值相同。
* 在for配合non-copy type的可遍历iterable变量使用时，如果不希望所有权转移，可以传入引用。collection types都是iterable的
* return表达式会终止当前函数，并向调用者返回该表达式的值，如果没有显式写值则返回零元组。最后一行return（保底出口）可以直接写表达式，省去return和分号
* 一元操作符-不能用在无符号整数上；二元操作符%对整数和浮点数都适用；Rust中不存在一元操作符+（正数直接写）；按位取反是!（在C中是~）
* 位运算优先级高于比较；比较运算两值类型相同；逻辑运算必须用bool
* 赋值操作符如果遇到non-copy type会发生所有权转移；支持复合赋值，但不支持自增、自减和链式赋值
* 使用as可以进行显式类型转换，包括内置数字类型之间、bool/char/enum向整数（反之不行）、unsafe pointer之间
* 编译器还会作隐式类型转换，包括&mut T=> &T; / &String => &str; / &Vec<T> => &[T]; &Box<T> => &T等
* + - = / % << >> & ^ | && || as操作符可链接